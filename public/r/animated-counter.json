{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "animated-counter",
  "type": "registry:component",
  "title": "Animated Counter",
  "description": "A number counter with odometer-style digit rotation animation using GSAP. Perfect for statistics, metrics, and dashboard displays.",
  "dependencies": ["gsap"],
  "files": [
    {
      "path": "registry/new-york/animated-counter/animated-counter.tsx",
      "content": "'use client';\n\nimport { useEffect, useRef } from 'react';\nimport { gsap } from 'gsap';\n\nconst MAX_ROTATIONS = 20;\n\ninterface AnimatedCounterProps {\n  target?: number;\n  duration?: number;\n  prefix?: string;\n  suffix?: string;\n}\n\nconst OdometerDigit = ({\n  rotations,\n  duration = 2,\n}: {\n  targetDigit: number;\n  rotations: number;\n  duration?: number;\n}) => {\n  const digitRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!digitRef.current) return;\n    const digitHeight = digitRef.current.parentElement?.clientHeight || 72;\n\n    gsap.fromTo(\n      digitRef.current,\n      { y: 0 },\n      { y: -rotations * digitHeight, duration, ease: 'power2.out' }\n    );\n  }, [rotations, duration]);\n\n  const digitCount = Math.ceil(rotations) + 1;\n  const digits = Array.from({ length: digitCount }, (_, i) => i % 10);\n\n  return (\n    <div className=\"relative h-[1em] overflow-hidden\">\n      <div ref={digitRef} className=\"flex flex-col\">\n        {digits.map((num, idx) => (\n          <span key={idx} className=\"h-[1em] flex items-center justify-center\">\n            {num}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nconst AnimatedCounter = ({\n  target = 1234,\n  duration = 2,\n  prefix = '',\n  suffix = '+',\n}: AnimatedCounterProps) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const hasAnimated = useRef(false);\n  const digitCount = target.toString().length;\n\n  const getDigitData = (position: number) => {\n    const divisor = Math.pow(10, position);\n    const fullRotations = Math.floor(target / divisor);\n    const targetDigit = fullRotations % 10;\n\n    if (fullRotations <= MAX_ROTATIONS) {\n      return { targetDigit, rotations: fullRotations };\n    }\n\n    const fullCycles = Math.floor(MAX_ROTATIONS / 10);\n    return { targetDigit, rotations: fullCycles * 10 + targetDigit };\n  };\n\n  const digitData = Array.from({ length: digitCount }, (_, i) => {\n    return getDigitData(digitCount - 1 - i);\n  });\n\n  useEffect(() => {\n    if (hasAnimated.current) return;\n    hasAnimated.current = true;\n\n    gsap.fromTo(\n      containerRef.current,\n      { scale: 0.9, opacity: 0 },\n      { scale: 1, opacity: 1, duration: 0.4, ease: 'back.out(1.7)' }\n    );\n  }, []);\n\n  return (\n    <div className=\"flex items-center justify-center p-12\">\n      <div ref={containerRef} className=\"text-center\">\n        <div className=\"text-6xl font-bold text-primary tabular-nums flex items-center justify-center gap-0\">\n          {prefix && <span>{prefix}</span>}\n          {digitData.map((data, index) => (\n            <OdometerDigit\n              key={index}\n              targetDigit={data.targetDigit}\n              rotations={data.rotations}\n              duration={duration}\n            />\n          ))}\n          {suffix && <span>{suffix}</span>}\n        </div>\n        <div className=\"mt-2 text-muted-foreground text-lg\">Active Users</div>\n      </div>\n    </div>\n  );\n};\n\nexport default AnimatedCounter;\n",
      "type": "registry:component"
    }
  ]
}
