{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "theme-toggle",
  "type": "registry:component",
  "title": "Theme Toggle",
  "description": "A theme toggle button with clip-path view transition animation for smooth dark/light mode switching.",
  "dependencies": ["next-themes", "clsx", "tailwind-merge"],
  "files": [
    {
      "path": "registry/new-york/theme-toggle/theme-toggle.tsx",
      "content": "'use client';\n\nimport * as React from 'react';\nimport { useTheme } from 'next-themes';\nimport { flushSync } from 'react-dom';\nimport { cn } from '@/lib/utils';\nimport './theme-toggle.css';\n\ninterface ThemeToggleProps {\n  /** Additional class names */\n  className?: string;\n}\n\nconst ThemeToggle = ({ className }: ThemeToggleProps) => {\n  const { setTheme, theme } = useTheme();\n  const ref = React.useRef<HTMLButtonElement>(null);\n  const [mounted, setMounted] = React.useState(false);\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  async function themeToggle() {\n    if (!ref.current) return;\n\n    // Fallback for browsers without View Transitions API\n    if (!document.startViewTransition) {\n      setTheme(theme === 'dark' ? 'light' : 'dark');\n      return;\n    }\n\n    await document.startViewTransition(() => {\n      flushSync(() => {\n        setTheme(theme === 'dark' ? 'light' : 'dark');\n      });\n    }).ready;\n\n    const { top, left, width, height } = ref.current.getBoundingClientRect();\n    const right = window.innerWidth - left;\n    const bottom = window.innerHeight - top;\n    const maxRadius = Math.hypot(Math.max(right, left), Math.max(bottom, top));\n\n    document.documentElement.animate(\n      {\n        clipPath: [\n          `circle(0px at ${left + width / 2}px ${top + height / 2}px)`,\n          `circle(${maxRadius}px at ${left + width / 2}px ${top + height / 2}px)`,\n        ],\n      },\n      {\n        duration: 500,\n        easing: 'ease-in-out',\n        pseudoElement: '::view-transition-new(root)',\n      }\n    );\n  }\n\n  if (!mounted) {\n    return (\n      <button\n        className={cn('theme-toggle', className)}\n        aria-label=\"Toggle theme\"\n        disabled\n      >\n        <span className=\"theme-toggle__icon\">\n          <SunIcon />\n        </span>\n      </button>\n    );\n  }\n\n  return (\n    <button\n      ref={ref}\n      className={cn('theme-toggle', className)}\n      onClick={themeToggle}\n      aria-label={`Switch to ${theme === 'dark' ? 'light' : 'dark'} mode`}\n      type=\"button\"\n    >\n      <span className=\"theme-toggle__icon\">\n        <span className=\"theme-toggle__sun\" aria-hidden=\"true\">\n          <SunIcon />\n        </span>\n        <span className=\"theme-toggle__moon\" aria-hidden=\"true\">\n          <MoonIcon />\n        </span>\n      </span>\n    </button>\n  );\n};\n\nconst SunIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"theme-toggle__svg\"\n  >\n    <circle cx=\"12\" cy=\"12\" r=\"4\" />\n    <path d=\"M12 2v2\" />\n    <path d=\"M12 20v2\" />\n    <path d=\"m4.93 4.93 1.41 1.41\" />\n    <path d=\"m17.66 17.66 1.41 1.41\" />\n    <path d=\"M2 12h2\" />\n    <path d=\"M20 12h2\" />\n    <path d=\"m6.34 17.66-1.41 1.41\" />\n    <path d=\"m19.07 4.93-1.41 1.41\" />\n  </svg>\n);\n\nconst MoonIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    strokeLinecap=\"round\"\n    strokeLinejoin=\"round\"\n    className=\"theme-toggle__svg\"\n  >\n    <path d=\"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\" />\n  </svg>\n);\n\nexport default ThemeToggle;\n",
      "type": "registry:component"
    },
    {
      "path": "registry/new-york/theme-toggle/theme-toggle.css",
      "content": "/* Theme Toggle Component CSS - Self-contained styles */\r\n\r\n/* View Transition API - Required for clip-path animation */\r\n::view-transition-old(root),\r\n::view-transition-new(root) {\r\n  animation: none;\r\n  mix-blend-mode: normal;\r\n}\r\n\r\n.theme-toggle {\r\n  --toggle-size: 2.25rem;\r\n  --toggle-transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n  \r\n  position: relative;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: var(--toggle-size);\r\n  height: var(--toggle-size);\r\n  padding: 0;\r\n  border: none;\r\n  border-radius: 0.375rem;\r\n  background: transparent;\r\n  color: currentColor;\r\n  cursor: pointer;\r\n  transition: background var(--toggle-transition);\r\n}\r\n\r\n.theme-toggle:hover {\r\n  background: oklch(0.5 0 0 / 10%);\r\n}\r\n\r\n.theme-toggle:focus-visible {\r\n  outline: 2px solid currentColor;\r\n  outline-offset: 2px;\r\n}\r\n\r\n.theme-toggle__icon {\r\n  position: relative;\r\n  width: 1.2rem;\r\n  height: 1.2rem;\r\n}\r\n\r\n.theme-toggle__svg {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.theme-toggle__sun,\r\n.theme-toggle__moon {\r\n  position: absolute;\r\n  inset: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: \r\n    opacity var(--toggle-transition),\r\n    transform var(--toggle-transition);\r\n}\r\n\r\n/* Light mode: Sun visible, Moon hidden */\r\n.theme-toggle__sun {\r\n  opacity: 1;\r\n  transform: rotate(0deg) scale(1);\r\n}\r\n\r\n.theme-toggle__moon {\r\n  opacity: 0;\r\n  transform: rotate(90deg) scale(0);\r\n}\r\n\r\n/* Dark mode: Sun hidden, Moon visible */\r\n.dark .theme-toggle__sun {\r\n  opacity: 0;\r\n  transform: rotate(-90deg) scale(0);\r\n}\r\n\r\n.dark .theme-toggle__moon {\r\n  opacity: 1;\r\n  transform: rotate(0deg) scale(1);\r\n}\r\n",
      "type": "registry:style"
    },
    {
      "path": "registry/new-york/theme-toggle/utils.ts",
      "content": "import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n",
      "type": "registry:lib"
    }
  ],
  "css": {
    "::view-transition-old(root), ::view-transition-new(root)": {
      "animation": "none",
      "mix-blend-mode": "normal"
    }
  }
}
